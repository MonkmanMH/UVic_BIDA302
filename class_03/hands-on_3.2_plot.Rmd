---
title: "Plotting in R"
subtitle: "hands-on examples, with answers"
output: html_notebook
---

<!-- This file by Martin Monkman is licensed under a Creative Commons Attribution 4.0 International License. -->

```{r setup}
library(tidyverse)

library(gapminder)
```

# 1. Plotting

## Objectives

* Produce scatter plots, histograms, and time series plots using {ggplot2}.

* Set universal plot settings.
 
* Describe what faceting is and apply faceting in a `ggplot()` call.
 
* Modify the aesthetics of an existing plot (including axis labels and color).
 
* Build complex and customized plots from data in a data frame.


## 1. Scatter plot: GDP by life expectancy



For this and some of the other examples, we will be using just the 2007 data.

### Your Turn 1.1

Create a dataframe object with the name "gapminder_2007" by filtering the gapminder data.

```{r}
# easy peasy

gapminder_2007 <- filter(gapminder, year == 2007)

```


### Your Turn 1.2


Scatter plots are sometimes known as "X-Y plots" because they compare two values for the same observation. 

Create a simple scatterplot using the {gapminder} data, showing all the countries in the world for 2007, the per capita GDP on the _x_ axis, and life expectancy on the _y_

 
```{r}
# solution

ggplot(gapminder_2007, aes(x = gdpPercap, y = lifeExp)) +
  geom_point()

```

> b. Create a variant of the above plot, with each continent coloured differently.

 
```{r}
# solution
ggplot(gapminder_2007, aes(x = gdpPercap, y = lifeExp, colour = continent)) +
  geom_point()

```


> c. And now using multiple facets
 
```{r}
# solution

ggplot(gapminder_2007, aes(x = gdpPercap, y = lifeExp)) +
  geom_point() +
  facet_grid(~continent)

```




***

## 2. Histogram: life expectancy

Histograms are ways to "bin" continuous variables into categories, and then count the number of observations in each bin.

The geom is `geom_histogram()`.

Like bar plots, you don't need a `y =` variable; the Y axis is the count of the number of observations.

### Your turn 2.1

Make a histogram using `gapminder_2007`, showing the count of countries by life expectancy.

```{r}
# solution
ggplot(gapminder_2007, aes(x = lifeExp)) +
  geom_histogram()


```


### Your turn 2.2

An important option in the `geom_histogram()` function is `binwidth = `. This sets the range that each bin covers. Experiment with adding bin widths of 3, 5, and 10 to the histogram

```{r}
# solution
ggplot(gapminder_2007, aes(x = lifeExp)) +
  geom_histogram(binwidth = 3)


```






### REFERENCE

Some of these examples are lifted directly from http://euclid.psych.yorku.ca/www/psy6135/tutorials/gapminder.html











