---
title: "BIDA302 - assignment #1"
output: html_notebook
---

## YOUR NAME HERE


Package load:
```{r}
library(tidyverse)
# data files
library(nycflights13)

```


## Introduction

> For this homework assignment, please write your answer for each question but before the line break before the next one.

> In some cases, you will have to insert R code chunks, and run them to ensure that you've got the right result.

> Use all of the R Markdown formatting you want! Bullets, bold text, etc. is welcome.



## Questions


### 1. Assign a variable
> (1 mark)

> Why does this code not work?

```{r}
stringlenght <- 10

stringlength
```

> Look carefully! (This may seem like an exercise in pointlessness, but training your brain to notice even the tiniest difference will pay off when programming.)




### 2. Reducing the size of your data set
> (1 mark)

>a. Starting with the {mpg} data frame, use `filter()` and `select()` to create a shorter form of this table that contains the following records and variables:
>
>* Volkswagen compact and subcompact models from the model year 1999
>
>* manufacturer, model, mileage in both city and highway 

```{r}
mpg
```

***

### 3. Selecting variables
> (1 mark)

> What happens if you include the name of variable twice in a `select()` call? Demonstrate using the {gapminder} data.





***

### 4. Religion and income data (USA)
> (1 mark)

> The table `relig-income` is in {tidyr}.
>
>a. Load this table, and take a look at it. Why does this table not conform to the tidy principles?
>
>b. Using the functions in {tidyr}, arrange this table in such a way that it is no longer messy.


***


### 5. Flight data
> (4 marks)

> For Q3a-3d, use the data `nycflights13::flights`
>
> Find all flights that:
>
>a. Had an arrival delay of two or more hours
>b. Flew to Houston (IAH or HOU)
>c. Were operated by United, American, or Delta
>d. Departed in summer (July, August, and September)



***

### 6. Car mileage - pivot table
> (2 marks)

> In Lesson 1, we used the {mpg} package to calculate the average displacement by class of car:

```{r}
mpg %>%                                
  group_by(class) %>%                   
  summarise(displ_mean = mean(displ)) 

```
> We then created a pivot (crosstab) table with class by number of cylinders, and then unpivoted that table:

```{r}
# summary table - class by cylinder
class_by_cyl <- mpg %>%
  group_by(class, cyl) %>%
  summarise(displ_mean = mean(displ)) %>%
  arrange(desc(displ_mean))

# pivot table (wide)

class_by_cyl_pivot <- class_by_cyl %>%
  pivot_wider(names_from = cyl, values_from = displ_mean)

class_by_cyl_pivot

# and back to longer...

displ_class_by_cyl <- class_by_cyl_pivot %>%
  pivot_longer(-class, names_to = "cyl", values_to = "displ_mean")

displ_class_by_cyl

```

> What happens when you repeat the first chunk of code to calculate the average displacement of each class of cars but with the new object `mpg_class_by_cyl`?

```{r}

displ_class_by_cyl %>%
  group_by(class) %>%
  summarise(mean = mean(displ_mean))

```

> Solve this problem so that the table looks like the first one in this question. Use any and all of the reference materials at your disposal!



