---
title: "Variable Types"
subtitle: "in R"
author: "BIDA302 - lesson 2"
date: "2020/10/31"
output:
  xaringan::moon_reader:
#    css: ["default", "css_files/eigengrau.css", "css_files/eigengrau-fonts.css"]    
    css: xaringan-themer.css
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---


<!-- 
This file by Martin Monkman 
is licensed under a Creative Commons Attribution 4.0 International License
https://creativecommons.org/licenses/by/4.0/  
-->




```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)

library(tidyverse)
```

```{r xaringan-themer, include=FALSE, warning=FALSE}
library(xaringanthemer)
style_duo_accent(
  primary_color = "#16161D",
  secondary_color = "#6e6e91",
  inverse_header_color = "#e2e2e9",
  header_font_google = google_font("Raleway"),
  text_font_google   = google_font("Raleway"),
  code_font_google   = google_font("Fira Mono")
)
```


```{r}
mpg
```


---


# Variable types (1)


`int` stands for integers.

`dbl` stands for doubles, or real numbers.

`chr` stands for character vectors, or strings.

`date` stands for dates.

`dttm` stands for date-times (a date + a time).

`fctr` stands for factors, which R uses to represent categorical variables with fixed possible values.

---


# Variable types (2) 

`lgl` stands for logical, vectors that contain only TRUE or FALSE.



`NA` are explicitly missing values.

* they can be included as any type: e.g. numeric or character


---

# Missing values `NA` 

Missing values are _contagious_

* an `NA` in the input will return an `NA` in the output

Three simple examples:

```{r}
1 + NA
```

```{r}
num_list <- c(1, 2, NA, 4, 5)
1 + num_list
```

```{r}
mean(num_list)
```



---

Or a longer example...

`displ_class_by_cyl`

```{r echo=FALSE}
# summary table - class by cylinder
displ_class_by_cyl <- mpg %>%
  group_by(class, cyl) %>%
  summarise(displ_mean = mean(displ)) %>%
  arrange(desc(displ_mean)) %>%
  pivot_wider(names_from = cyl, values_from = displ_mean) %>%
  pivot_longer(-class, names_to = "cyl", values_to = "displ_mean")

displ_class_by_cyl

```

---

```{r}
mean(displ_class_by_cyl$displ_mean)
```

--

`na.rm` removes `NA`s from the calculation

```{r}
mean(displ_class_by_cyl$displ_mean, na.rm = TRUE)
```





---

## Functions for missing values

Dealing with those pesky `NA` values  

| function | action |
| : -----  | ---: |
| `is.na(x)` | returns TRUE or FALSE for each value in `x` |
| `anyNA(x)` | returns a single TRUE or FALSE |
| `na.rm = TRUE` | remove `NA` values when running function|



```{r}
x <- c(1, NA, 3)

is.na(x)
```



